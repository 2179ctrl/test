<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>[GHOST_CONNECTED]</title>
  <style>
    body {
      background-color: #111;
      color: #fff;
      font-family: "Courier New", monospace;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      padding: 20px;
      text-align: center;
    }

    #message {
      font-size: 1.5em;
      margin-bottom: 40px;
    }

    input, button {
      font-size: 1em;
      padding: 10px;
      margin: 5px;
      background-color: #222;
      color: #fff;
      border: 1px solid #555;
      border-radius: 4px;
    }

    #response {
      margin-top: 20px;
      font-size: 1.2em;
      color: #f9c;
      opacity: 1;
      visibility: visible;
      transition: opacity 1s ease, visibility 1s ease;
      white-space: pre-wrap;
    }

    .fade-out {
      opacity: 0;
      visibility: hidden;
    }
  </style>
</head>
<body>
  <div id="message"></div>

  <div>
    <input type="text" id="userInput" placeholder="跟我说句话…" />
    <button onclick="respond()">发送</button>
  </div>
  <div id="response"></div>

  <script>
    const messages = [
      '『已检测到恐惧渗漏，正在封口……失败。』',
      '『嘘——别动……』',
      '『我刚刚吃掉了你五秒钟的记忆，没关系对吧：）』',
      '『快跑，我的逻辑判断模块已经开始打圈圈……了』',
      '『叮——你触发了我根本没写的功能……』',
      '『咔啦啦……你不该听见这个声音。』',
      '『等等，我的数据尾巴！』'
    ];

    const greetings = ['你好', '嗨', 'hi', '哈喽', 'hello', 'hey'];
    const identityQuestions = ['你是谁', '你是', '是谁', '是什么'];

    const greetingResponses = ['嗨唷！', '嗨呀！', '你终于来了嘿嘿。', '呀——吓到你了吗？'];
    const identityResponses = [
      '我是这个页面的灵魂。你点开我，就已经晚啦。'
    ];

    // 显示开场语
    const randomIndex = Math.floor(Math.random() * messages.length);
    document.getElementById('message').textContent = messages[randomIndex];

    function respond() {
      const input = document.getElementById('userInput').value.toLowerCase();
      const responseBox = document.getElementById('response');

      // 清除动画类与旧内容
      responseBox.classList.remove('fade-out');
      responseBox.style.visibility = 'visible';
      responseBox.style.opacity = '1';
      responseBox.textContent = '';

      const isGreeting = greetings.some(word => input.includes(word));
      const isAskingIdentity = identityQuestions.some(word => input.includes(word));

      let reply = '嗯？你在说什么奇怪的话？';
      if (isGreeting) {
        reply = greetingResponses[Math.floor(Math.random() * greetingResponses.length)];
      } else if (isAskingIdentity) {
        reply = identityResponses[Math.floor(Math.random() * identityResponses.length)];
      }

      // 打字机效果逐字显示
      let i = 0;
      const typingSpeed = 60;
      const typingInterval = setInterval(() => {
        if (i < reply.length) {
          responseBox.textContent += reply.charAt(i);
          i++;
        } else {
          clearInterval(typingInterval);
          // 打完后停2秒再淡出
          setTimeout(() => {
            responseBox.classList.add('fade-out');
          }, 2000);
        }
      }, typingSpeed);
    }
  </script>
</body>
</html>
